{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nexports.__esModule = true;\nexports.default = void 0;\nvar R = _interopRequireWildcard(require(\"ramda\"));\nvar _sort = _interopRequireDefault(require(\"./sort\"));\nvar _isEmpty = _interopRequireDefault(require(\"./isEmpty\"));\nvar sortPoints = function sortPoints(a, b) {\n  return a[1] - b[1] || a[3] - b[3];\n};\nvar mergeAttributes = function mergeAttributes(key, left, right) {\n  return key === 'attributes' ? R.merge(left, right) : right;\n};\nvar generatePoints = R.o(R.sort(sortPoints), R.addIndex(R.chain)(function (run, i) {\n  return [['start', run.start, run.attributes, i], ['end', run.end, run.attributes, i]];\n}));\nvar flattenEmptyRuns = R.compose(R.map(R.reduce(R.mergeDeepWithKey(mergeAttributes), {})), R.groupWith(R.eqProps('start')));\nvar flattenRegularRuns = function flattenRegularRuns(runs) {\n  var res = [];\n  var points = generatePoints(runs);\n  var start = -1;\n  var attrs = {};\n  var stack = [];\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n      type = _points$i[0],\n      offset = _points$i[1],\n      attributes = _points$i[2];\n    if (start !== -1 && start < offset) {\n      res.push({\n        start: start,\n        end: offset,\n        attributes: attrs\n      });\n    }\n    if (type === 'start') {\n      stack.push(attributes);\n      attrs = R.merge(attrs, attributes);\n    } else {\n      attrs = {};\n      for (var j = 0; j < stack.length; j += 1) {\n        if (stack[j] === attributes) {\n          // eslint-disable-next-line no-plusplus\n          stack.splice(j--, 1);\n        } else {\n          attrs = R.merge(attrs, stack[j]);\n        }\n      }\n    }\n    start = offset;\n  }\n  return res;\n};\n/**\n * Flatten many runs\n *\n * @param  {Array}  runs\n * @return {Array} flatten runs\n */\n\nvar flatten = function flatten(runs) {\n  if (runs === void 0) {\n    runs = [];\n  }\n  return R.compose(_sort.default, R.apply(R.useWith(R.concat, [flattenEmptyRuns, flattenRegularRuns])), R.partition(_isEmpty.default))(runs);\n};\nvar _default = flatten;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireDefault","require","default","_interopRequireWildcard","exports","__esModule","R","_sort","_isEmpty","sortPoints","a","b","mergeAttributes","key","left","right","merge","generatePoints","o","sort","addIndex","chain","run","i","start","attributes","end","flattenEmptyRuns","compose","map","reduce","mergeDeepWithKey","groupWith","eqProps","flattenRegularRuns","runs","res","points","attrs","stack","length","_points$i","type","offset","push","j","splice","flatten","apply","useWith","concat","partition","_default"],"sources":["C:/Users/user/restii_qr_generator/frontend/node_modules/@react-pdf/textkit/lib/run/flatten.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar _sort = _interopRequireDefault(require(\"./sort\"));\n\nvar _isEmpty = _interopRequireDefault(require(\"./isEmpty\"));\n\nvar sortPoints = function sortPoints(a, b) {\n  return a[1] - b[1] || a[3] - b[3];\n};\n\nvar mergeAttributes = function mergeAttributes(key, left, right) {\n  return key === 'attributes' ? R.merge(left, right) : right;\n};\n\nvar generatePoints = R.o(R.sort(sortPoints), R.addIndex(R.chain)(function (run, i) {\n  return [['start', run.start, run.attributes, i], ['end', run.end, run.attributes, i]];\n}));\nvar flattenEmptyRuns = R.compose(R.map(R.reduce(R.mergeDeepWithKey(mergeAttributes), {})), R.groupWith(R.eqProps('start')));\n\nvar flattenRegularRuns = function flattenRegularRuns(runs) {\n  var res = [];\n  var points = generatePoints(runs);\n  var start = -1;\n  var attrs = {};\n  var stack = [];\n\n  for (var i = 0; i < points.length; i += 1) {\n    var _points$i = points[i],\n        type = _points$i[0],\n        offset = _points$i[1],\n        attributes = _points$i[2];\n\n    if (start !== -1 && start < offset) {\n      res.push({\n        start: start,\n        end: offset,\n        attributes: attrs\n      });\n    }\n\n    if (type === 'start') {\n      stack.push(attributes);\n      attrs = R.merge(attrs, attributes);\n    } else {\n      attrs = {};\n\n      for (var j = 0; j < stack.length; j += 1) {\n        if (stack[j] === attributes) {\n          // eslint-disable-next-line no-plusplus\n          stack.splice(j--, 1);\n        } else {\n          attrs = R.merge(attrs, stack[j]);\n        }\n      }\n    }\n\n    start = offset;\n  }\n\n  return res;\n};\n/**\n * Flatten many runs\n *\n * @param  {Array}  runs\n * @return {Array} flatten runs\n */\n\n\nvar flatten = function flatten(runs) {\n  if (runs === void 0) {\n    runs = [];\n  }\n\n  return R.compose(_sort.default, R.apply(R.useWith(R.concat, [flattenEmptyRuns, flattenRegularRuns])), R.partition(_isEmpty.default))(runs);\n};\n\nvar _default = flatten;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nexports.__esModule = true;\nexports.default = void 0;\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\nvar R = _interopRequireWildcard(require(\"ramda\"));\nvar P = _interopRequireWildcard(require(\"@react-pdf/primitives\"));\nvar _emoji = _interopRequireDefault(require(\"../text/emoji\"));\nvar _fetchImage = _interopRequireDefault(require(\"../image/fetchImage\"));\nvar isImage = R.propEq('type', P.Image);\n/**\n * Get all asset promises that need to be resolved\n *\n * @param {Object} root node\n * @returns {Array} asset promises\n */\n\nvar fetchAssets = function fetchAssets(fontStore, node) {\n  var _node$children;\n  var promises = [];\n  var listToExplore = ((_node$children = node.children) === null || _node$children === void 0 ? void 0 : _node$children.slice(0)) || [];\n  var emojiSource = fontStore ? fontStore.getEmojiSource() : null;\n  while (listToExplore.length > 0) {\n    var _n$style;\n    var n = listToExplore.shift();\n    if (isImage(n)) {\n      promises.push((0, _fetchImage.default)(n));\n    }\n    if (fontStore && (_n$style = n.style) !== null && _n$style !== void 0 && _n$style.fontFamily) {\n      promises.push(fontStore.load(n.style));\n    }\n    if (typeof n === 'string') {\n      promises.push.apply(promises, (0, _emoji.default)(n, emojiSource));\n    }\n    if (typeof n.value === 'string') {\n      promises.push.apply(promises, (0, _emoji.default)(n.value, emojiSource));\n    }\n    if (n.children) {\n      n.children.forEach(function (childNode) {\n        listToExplore.push(childNode);\n      });\n    }\n  }\n  return promises;\n};\n/**\n * Fetch image, font and emoji assets in parallel.\n * Layout process will not be resumed until promise resolves.\n *\n * @param {Object} root node\n * @param {Object} fontStore font store\n * @returns {Object} root node\n */\n\nvar resolveAssets = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)(/*#__PURE__*/_regenerator.default.mark(function _callee(node, fontStore) {\n    var promises;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promises = fetchAssets(fontStore, node);\n            _context.next = 3;\n            return Promise.all(promises);\n          case 3:\n            return _context.abrupt(\"return\", node);\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return function resolveAssets(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar _default = resolveAssets;\nexports.default = _default;","map":{"version":3,"names":["_interopRequireWildcard","require","default","_interopRequireDefault","exports","__esModule","_regenerator","_asyncToGenerator2","R","P","_emoji","_fetchImage","isImage","propEq","Image","fetchAssets","fontStore","node","_node$children","promises","listToExplore","children","slice","emojiSource","getEmojiSource","length","_n$style","n","shift","push","style","fontFamily","load","apply","value","forEach","childNode","resolveAssets","_ref","mark","_callee","wrap","_callee$","_context","prev","next","Promise","all","abrupt","stop","_x","_x2","arguments","_default"],"sources":["C:/Users/user/restii_qr_generator/frontend/node_modules/@react-pdf/layout/lib/steps/resolveAssets.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar R = _interopRequireWildcard(require(\"ramda\"));\n\nvar P = _interopRequireWildcard(require(\"@react-pdf/primitives\"));\n\nvar _emoji = _interopRequireDefault(require(\"../text/emoji\"));\n\nvar _fetchImage = _interopRequireDefault(require(\"../image/fetchImage\"));\n\nvar isImage = R.propEq('type', P.Image);\n/**\n * Get all asset promises that need to be resolved\n *\n * @param {Object} root node\n * @returns {Array} asset promises\n */\n\nvar fetchAssets = function fetchAssets(fontStore, node) {\n  var _node$children;\n\n  var promises = [];\n  var listToExplore = ((_node$children = node.children) === null || _node$children === void 0 ? void 0 : _node$children.slice(0)) || [];\n  var emojiSource = fontStore ? fontStore.getEmojiSource() : null;\n\n  while (listToExplore.length > 0) {\n    var _n$style;\n\n    var n = listToExplore.shift();\n\n    if (isImage(n)) {\n      promises.push((0, _fetchImage.default)(n));\n    }\n\n    if (fontStore && (_n$style = n.style) !== null && _n$style !== void 0 && _n$style.fontFamily) {\n      promises.push(fontStore.load(n.style));\n    }\n\n    if (typeof n === 'string') {\n      promises.push.apply(promises, (0, _emoji.default)(n, emojiSource));\n    }\n\n    if (typeof n.value === 'string') {\n      promises.push.apply(promises, (0, _emoji.default)(n.value, emojiSource));\n    }\n\n    if (n.children) {\n      n.children.forEach(function (childNode) {\n        listToExplore.push(childNode);\n      });\n    }\n  }\n\n  return promises;\n};\n/**\n * Fetch image, font and emoji assets in parallel.\n * Layout process will not be resumed until promise resolves.\n *\n * @param {Object} root node\n * @param {Object} fontStore font store\n * @returns {Object} root node\n */\n\n\nvar resolveAssets = /*#__PURE__*/function () {\n  var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(node, fontStore) {\n    var promises;\n    return _regenerator.default.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            promises = fetchAssets(fontStore, node);\n            _context.next = 3;\n            return Promise.all(promises);\n\n          case 3:\n            return _context.abrupt(\"return\", node);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function resolveAssets(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar _default = resolveAssets;\nexports.default = _default;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}